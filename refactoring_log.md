# 系统重构日志

本文档记录系统重构过程中所做的所有更改，便于追踪和回溯。

## 初始状态评估（日期：当前日期）

通过代码审查，发现了以下需要改进的问题：

1. **词云功能问题**：
   - 后端有两个词云API端点：`/api/wordcloud` 和 `/api/title-wordcloud`
   - 前端仅使用 `/api/title-wordcloud`
   - 词云生成逻辑复杂且有多个备选方案

2. **排行榜功能问题**：
   - 排行榜组件中有大量重复代码
   - 关注功能API尚未实现，但前端代码中有相关逻辑
   - 排行榜数据字段映射复杂，前后端字段名不一致

3. **趋势图表问题**：
   - 多个趋势API端点
   - 趋势数据处理逻辑重复
   - 数据来源不一致

4. **冗余代码**：
   - 后端app.py文件过大（2476行）
   - 数据库连接和查询逻辑重复
   - 错误处理和日志记录不一致

5. **数据库表结构问题**：
   - 有些功能使用专用表，有些使用通用import表
   - 表字段命名不一致

## 计划的改进步骤

1. 词云功能优化
2. 排行榜功能优化
3. 趋势图表优化
4. 后端app.py文件拆分
5. 专用表分析与清理
6. 统一数据访问层
7. 前端组件优化
8. 前后端API对齐

## 已完成的改进 